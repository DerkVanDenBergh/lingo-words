language: java
script:
  - mvn verify compile install test package
  - travis setup releases --pro
before_deploy:
  # Set up git user name and tag this commit
  - git config --local user.name "DerkVanDenBergh"
  - git config --local user.email "derkv@ndenbergh.nl"
  - export GIT_TAG=master-v0.1.$TRAVIS_BUILD_NUMBER
  - git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
deploy:
  provider: releases
  api_key:
    secure: 3ec30d546a1b588a9cb1fa84a5ef41296270f15f
  file:
    - ./target/Wordset-Export.jar
  cleanup: false
  on:
    repo: DerkVanDenBergh/lingo-words
    tags: true
    branch: master