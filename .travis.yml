language: java
script:
  mvn verify clean compile install test package
before_deploy:
  # Set up git user name and tag this commit
  - git config --local user.name "DerkVanDenBergh"
  - git config --local user.email "derkv@ndenbergh.nl"
  - export GIT_TAG=master-v0.1.$TRAVIS_BUILD_NUMBER
  - git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
deploy:
  provider: releases
  api_key:
    secure: fd:4b:9f:58:f2:83:89:a9:f6:eb:19:0b:a8:4e:2f:3c
  file:
    - ./target/Wordset-Export.jar
  cleanup: false
  on:
    repo: DerkVanDenBergh/lingo-words
    branch: master